# NestJS + React å…¨æ ˆç®¡ç†ç³»ç»Ÿ

ä¸€ä¸ªç°ä»£åŒ–çš„å‰åç«¯åˆ†ç¦»ç®¡ç†ç³»ç»Ÿ,åŒ…å«ç”¨æˆ·è®¤è¯ã€æƒé™ç®¡ç†ã€æ—¥å¿—è®°å½•ã€æ€§èƒ½ç›‘æ§ç­‰ä¼ä¸šçº§åŠŸèƒ½ã€‚

## âœ¨ æ ¸å¿ƒåŠŸèƒ½

- ğŸ” **ç”¨æˆ·è®¤è¯**: JWT + Passport èº«ä»½éªŒè¯
- ğŸ‘¥ **æƒé™ç®¡ç†**: ç”¨æˆ·ã€è§’è‰²ã€èœå•ç®¡ç†
- ğŸ“Š **æ€§èƒ½ç›‘æ§**: APIå“åº”æ—¶é—´ã€æ…¢æŸ¥è¯¢è¿½è¸ªã€ç³»ç»Ÿå¥åº·æ£€æŸ¥
- ğŸ“ **æ“ä½œæ—¥å¿—**: å®Œæ•´çš„å®¡è®¡æ—¥å¿—è®°å½•å’ŒæŸ¥è¯¢
- ğŸ“– **APIæ–‡æ¡£**: Swaggerè‡ªåŠ¨ç”Ÿæˆæ¥å£æ–‡æ¡£
- ğŸ¨ **ç°ä»£åŒ–UI**: Ant Design 5 + å“åº”å¼å¸ƒå±€

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

### åç«¯
- **æ¡†æ¶**: NestJS 11.1.8
- **æ•°æ®åº“**: MySQL 8.0 + TypeORM 0.3.27
- **è®¤è¯**: JWT + Passport
- **ç›‘æ§**: @nestjs/terminus (å¥åº·æ£€æŸ¥)
- **æ—¥å¿—**: Winston (æ–‡ä»¶æ—¥å¿— + æ•°æ®åº“æ—¥å¿—)
- **æ–‡æ¡£**: Swagger
- **è¯­è¨€**: TypeScript

### å‰ç«¯
- **æ¡†æ¶**: React 18.3.1 + TypeScript
- **æ„å»º**: Vite 7.2.2
- **UIåº“**: Ant Design 5.28.1
- **è·¯ç”±**: React Router 6.28.0
- **å›¾è¡¨**: ECharts 5.x
- **HTTP**: Axios

## ğŸ“ é¡¹ç›®ç»“æ„

```
nestAdmin/
â”œâ”€â”€ backend/                # åç«¯ (NestJS)
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ modules/       # ä¸šåŠ¡æ¨¡å—
â”‚   â”‚   â”‚   â”œâ”€â”€ auth/     # è®¤è¯æ¨¡å—
â”‚   â”‚   â”‚   â”œâ”€â”€ user/     # ç”¨æˆ·ç®¡ç†
â”‚   â”‚   â”‚   â”œâ”€â”€ role/     # è§’è‰²ç®¡ç†
â”‚   â”‚   â”‚   â”œâ”€â”€ menu/     # èœå•ç®¡ç†
â”‚   â”‚   â”‚   â”œâ”€â”€ health/   # å¥åº·æ£€æŸ¥
â”‚   â”‚   â”‚   â”œâ”€â”€ performance/  # æ€§èƒ½ç›‘æ§
â”‚   â”‚   â”‚   â””â”€â”€ operation-log/ # æ“ä½œæ—¥å¿—
â”‚   â”‚   â”œâ”€â”€ common/       # å…¬å…±æ¨¡å—
â”‚   â”‚   â”‚   â”œâ”€â”€ interceptors/  # æ‹¦æˆªå™¨
â”‚   â”‚   â”‚   â””â”€â”€ filters/       # å¼‚å¸¸è¿‡æ»¤å™¨
â”‚   â”‚   â””â”€â”€ main.ts
â”‚   â””â”€â”€ sql/              # SQLè„šæœ¬
â”‚
â””â”€â”€ frontend/              # å‰ç«¯ (React)
    â”œâ”€â”€ src/
    â”‚   â”œâ”€â”€ api/          # APIæ¥å£
    â”‚   â”œâ”€â”€ pages/        # é¡µé¢ç»„ä»¶
    â”‚   â”‚   â”œâ”€â”€ Login/
    â”‚   â”‚   â”œâ”€â”€ Home/
    â”‚   â”‚   â”œâ”€â”€ UserManagement/
    â”‚   â”‚   â”œâ”€â”€ OperationLog/
    â”‚   â”‚   â””â”€â”€ PerformanceMonitor/
    â”‚   â”œâ”€â”€ router/       # è·¯ç”±é…ç½®
    â”‚   â””â”€â”€ utils/        # å·¥å…·å‡½æ•°
    â””â”€â”€ vite.config.ts
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚
- Node.js 18+
- MySQL 8.0+
- npm æˆ– pnpm

### å®‰è£…æ­¥éª¤

```bash
# 1. å…‹éš†é¡¹ç›®
git clone <repository-url>
cd nestAdmin

# 2. é…ç½®æ•°æ®åº“
# ç¡®ä¿ MySQL å·²å¯åŠ¨,ä¿®æ”¹ backend/.env é…ç½®

# 3. å®‰è£…åç«¯ä¾èµ–å¹¶å¯åŠ¨
cd backend
npm install
node init-data.js           # é¦–æ¬¡è¿è¡Œåˆå§‹åŒ–æ•°æ®
npm run start:dev           # å¯åŠ¨åç«¯ (http://localhost:3000)

# 4. å®‰è£…å‰ç«¯ä¾èµ–å¹¶å¯åŠ¨
cd ../frontend
npm install
npm run dev                  # å¯åŠ¨å‰ç«¯ (http://localhost:5174)
```

### é»˜è®¤è´¦å·
- **ç”¨æˆ·å**: `admin`
- **å¯†ç **: `admin123`

### è®¿é—®åœ°å€
- **å‰ç«¯**: http://localhost:5174
- **åç«¯API**: http://localhost:3000
- **Swaggeræ–‡æ¡£**: http://localhost:3000/api-docs

## ï¿½ Docker éƒ¨ç½²

### å¿«é€Ÿéƒ¨ç½²

```bash
# 1. å¤åˆ¶ç¯å¢ƒå˜é‡
cp .env.example .env

# 2. ç¼–è¾‘ .env é…ç½®
# ä¿®æ”¹æ•°æ®åº“å¯†ç å’Œ JWT å¯†é’¥

# 3. å¯åŠ¨æœåŠ¡ (Windows)
deploy.bat

# æˆ– (Linux/Mac)
chmod +x deploy.sh
./deploy.sh
```

### æ‰‹åŠ¨éƒ¨ç½²

```bash
# æ„å»ºå¹¶å¯åŠ¨
docker-compose up -d

# æŸ¥çœ‹çŠ¶æ€
docker-compose ps

# æŸ¥çœ‹æ—¥å¿—
docker-compose logs -f
```

**è®¿é—®åœ°å€**:
- å‰ç«¯: http://localhost
- åç«¯: http://localhost:3000

è¯¦ç»†éƒ¨ç½²æ–‡æ¡£: [DEPLOYMENT.md](./DEPLOYMENT.md)

## ï¿½ğŸ“š ä¸»è¦åŠŸèƒ½æ¨¡å—

### 1. ç”¨æˆ·ç®¡ç†
- ç”¨æˆ·åˆ—è¡¨ã€æ–°å¢ã€ç¼–è¾‘ã€åˆ é™¤
- ç”¨æˆ·è§’è‰²åˆ†é…
- ç”¨æˆ·çŠ¶æ€ç®¡ç†

### 2. è§’è‰²ç®¡ç†
- è§’è‰²åˆ—è¡¨ã€æ–°å¢ã€ç¼–è¾‘ã€åˆ é™¤
- è§’è‰²æƒé™åˆ†é…

### 3. èœå•ç®¡ç†
- èœå•æ ‘å½¢å±•ç¤º
- èœå•CRUDæ“ä½œ
- åŠ¨æ€è·¯ç”±ç”Ÿæˆ

### 4. æ“ä½œæ—¥å¿—
- è‡ªåŠ¨è®°å½•æ‰€æœ‰æ“ä½œ
- æ—¥å¿—æŸ¥è¯¢å’Œç­›é€‰
- IPåœ°å€è¿½è¸ª

### 5. æ€§èƒ½ç›‘æ§
- APIå“åº”æ—¶é—´ç›‘æ§
- æ…¢æŸ¥è¯¢è¿½è¸ª (>1s)
- ç³»ç»Ÿå¥åº·æ£€æŸ¥
- å®æ—¶æ•°æ®å¯è§†åŒ–

## ğŸ”Œ APIæ–‡æ¡£

æ‰€æœ‰APIæ¥å£å‡å·²é›†æˆSwaggeræ–‡æ¡£,å¯åŠ¨åç«¯æœåŠ¡åè®¿é—®:
**http://localhost:3000/api-docs**

ä¸»è¦æ¥å£:
- `POST /auth/login` - ç”¨æˆ·ç™»å½•
- `GET /user/profile` - è·å–ç”¨æˆ·ä¿¡æ¯
- `GET /health` - å¥åº·æ£€æŸ¥
- `GET /performance/stats` - æ€§èƒ½ç»Ÿè®¡

## ğŸ“ å¼€å‘æŒ‡å—

### åç«¯å¼€å‘
```bash
cd backend
npm run start:dev    # å¼€å‘æ¨¡å¼(çƒ­é‡è½½)
npm run build        # ç¼–è¯‘æ„å»º
npm run start        # ç”Ÿäº§æ¨¡å¼
```

### å‰ç«¯å¼€å‘
```bash
cd frontend
npm run dev          # å¼€å‘æœåŠ¡å™¨
npm run build        # ç”Ÿäº§æ„å»º
npm run preview      # é¢„è§ˆæ„å»º
```

### ç¯å¢ƒé…ç½®

ä¿®æ”¹ `backend/.env`:
```env
DB_HOST=localhost
DB_PORT=3306
DB_USERNAME=root
DB_PASSWORD=your_password
DB_DATABASE=nest_admin

JWT_SECRET=your-secret-key
JWT_EXPIRES_IN=7d
PORT=3000
```

## ğŸ”§ å¸¸è§é—®é¢˜

**Q: æ•°æ®åº“è¿æ¥å¤±è´¥?**  
A: æ£€æŸ¥MySQLæœåŠ¡æ˜¯å¦å¯åŠ¨,`.env`é…ç½®æ˜¯å¦æ­£ç¡®

**Q: å‰ç«¯æ— æ³•è®¿é—®åç«¯?**  
A: ç¡®è®¤åç«¯å·²å¯åŠ¨,æ£€æŸ¥ç«¯å£æ˜¯å¦è¢«å ç”¨

**Q: Tokenè¿‡æœŸ?**  
A: é‡æ–°ç™»å½•è·å–æ–°Token

## ğŸ“‹ é¡¹ç›®è§„åˆ’

è¯¦è§ [ROADMAP.md](./ROADMAP.md) - åŒ…å«10ä¸ªé˜¶æ®µçš„æ”¹è¿›è®¡åˆ’

å·²å®Œæˆ:
- âœ… Phase 1: æ—¥å¿—ç³»ç»Ÿ
- âœ… Phase 2: æ€§èƒ½ç›‘æ§

è¿›è¡Œä¸­:
- ğŸš§ Phase 3: å®‰å…¨åŠ å›º

## ğŸ“„ License

MIT

---

**Created**: 2025-11-14  
**Last Updated**: 2025-11-16
